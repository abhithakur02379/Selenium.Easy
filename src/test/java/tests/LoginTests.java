package tests;

import org.openqa.selenium.By;
import org.testng.Assert;
import org.testng.annotations.Test;

import static com.codeborne.selenide.Selenide.$;


public class LoginTests {

    SetUpTests setup = new SetUpTests();


    @Test(priority = 1, description = "Customer login with Valid Credentials")
    public void verifyUserLoginwithValidCredentials() throws InterruptedException {

        setup.launch_ParaBank();

        if ($(By.xpath("//*[contains(text(),'Customer Login')]")).exists())
        {
            $(By.xpath("//*[contains(@name,'username')]")).val("GViz_User");
            $(By.xpath("//*[contains(@name,'password')]")).val("GViz_User").pressEnter();
            Thread.sleep(2000);
            if ($(By.xpath("//*[contains(text(),'Log Out')]")).exists())
            {
                Assert.assertEquals("User Login Successfull", "User Login Successfull");
                System.out.println("User Login Successfull");
            }
            else
            {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                Assert.assertEquals("User Login NOT Successfull", "User Login Successfull");
                System.out.println("User Login NOT Successfull");
            }
        }
    }


    @Test(priority = 1, description = "Customer login with Invalid Credentials")
    public void verifyUserLoginwithInvalidCredentials() throws InterruptedException {

        setup.launch_ParaBank();

        if ($(By.xpath("//*[contains(text(),'Customer Login')]")).exists()) {
            $(By.xpath("//*[contains(@name,'username')]")).val("12345");
            $(By.xpath("//*[contains(@name,'password')]")).val("test").pressEnter();
            Thread.sleep(2000);
            if ($(By.xpath("//*[contains(text(),'The username and password could not be verified.')]")).isDisplayed())
            {
                Assert.assertEquals("User Login NOT Successfull", "User Login NOT Successfull");
                System.out.println("User Login NOT Successfull");
            }
            else
            {
                Assert.assertEquals("User Login Successfull", "User Login Successfull");
                System.out.println("User Login Successfull");
            }
        }
    }


    @Test(priority = 1, description = "Customer login with Empty Credentials")
    public void verifyUserLoginwithEmptyCredentials() throws InterruptedException {

        setup.launch_ParaBank();

        if ($(By.xpath("//*[contains(text(),'Customer Login')]")).exists())
        {
            $(By.xpath("//*[contains(@name,'username')]")).val("");
            $(By.xpath("//*[contains(@name,'password')]")).val("").pressEnter();
            Thread.sleep(2000);
            if ($(By.xpath("//*[contains(text(),'Please enter a username and password.')]")).isDisplayed())
            {
                Assert.assertEquals("User Login NOT Successfull", "User Login NOT Successfull");
                System.out.println("User Login NOT Successfull");
            }
            else
            {
                Assert.assertEquals("User Login Successfull", "User Login Successfull");
                System.out.println("User Login Successfull");
            }
        }
    }






}




